接入说明
七鱼SDK 10.6.0版本对底层IM通信能力进行过重构，属于重大更新，重构之前的版本，后续停止维护。
版本说明
新客户接入
1、如果您需要使用iOS原生七鱼客服的功能，使用以下版本：https://github.com/qiyukf/QY_iOS_SDK
2、如果您需要通过uniapp的方式接入SDK，您需要使用插件：https://ext.dcloud.net.cn/plugin?id=9262
版本升级
一、如果您使用的SDK是QY_iOS_SDK （https://github.com/qiyukf/QY_iOS_SDK），您正常升级即可。
二、如果您使用的是QY_NIM_iOS_SDK （https://github.com/qiyukf/QY_NIM_iOS_SDK），此次更新的目标版本如果>=10.6.0 ，您需要做以下改动：
1、在 Podfile 文件中
pod 'QY_NIM_iOS_SDK', '~> x.x.x'
修过为
pod 'QY_iOS_SDK', '~> x.x.x'
修改完成后，重新执行pod install命令
2、工程中头文件引入做如下修改：
#####1、七鱼客服模块
//#import <QYSDK_ReName/***.h>
修改为:
//#import <QYSDK/***.h>
#####2、视频客服模块
//#import <QYVideoService_ReName/***.h>
修改为:
//#import <QYVideoService/***.h>
#####3、IM模块
//#import <NIMSDK2/NIMSDK.h>
修改为：
//#import <QYKFNIMSDK/QYKFNIMSDK.h>
3、工程中查找出和七鱼业务逻辑有关的NIMSDK类的调用，将NIMSDK替换为QYKFNIMSDK
导入SDK
QYSDK 提供两种集成方式：既可以通过 CocoaPods 自动集成，也可以手动下载 SDK并集成至您的项目中。
##手动集成
###动态库集成
####普通版
QYSDK 在 V5.10.0 版本后已修改为动态库，集成方式相对之前静态库有所改变，若要集成动态库，只需要做以下工作：
下载 zip 文件并解压，说明如下：​
QYKFNIMSDK.xcframework 动态库：IM 即时通讯、信令、聊天室的功能集；​
QYKFNIMNOS.xcframework 动态库：IM通讯必须依赖库
QYSDK.xcframework（老版本是QYSDK.framework） 动态库：七鱼客服功能
QYVideoService.xcframework 动态库：七鱼客服视频客服模块
Resources 文件夹：内含资源集合 bundle 文件。
QYResource.bundle ：素材资源
QYCustomResource.bundle ：自定义资源，用于替换 QYResource.bundle 内的同名素材
QYLanguage.bundle ：多语言资源文件
QYVideoResource.bundle ：视频客服模块必须的资源

1、将 QYKFNIMSDK.xcframework、QYKFNIMNOS.xcframework、QYSDK.xcframework 文件夹拖入工程，确保文件 copy 至工程而非引用，并确保 General —> Frameworks, Libraries, and Embedded Content ( >=Xcode11 ) 选项中包含导入的库，同时 Embed 选择 Embed & Sign 即可。
2、如果您需要视频客服模块，需要额外将QYVideoService.xcframework拖入工程，确保文件 copy 至工程而非引用，并确保 General —> Frameworks, Libraries, and Embedded Content ( >=Xcode11 ) 选项中包含导入的库，同时 Embed 选择 Embed & Sign 即可。
3、将 Resources 文件夹中所需的 bundle 资源文件拖入主工程，确保 mainBundle 可以访问到。
**注意：**如果您不需要视频客服的功能，请不要集成 QYVideoService.xcframework 和 QYVideoResource.bundle，否则将增加不必要的包体积。
####自动集成
QYSDK 动态库地址：CocoaPods地址，GitHub地址。集成步骤如下：
1、在 Podfile 文件中加入：
国内版本
pod 'QY_iOS_SDK', '~> x.x.x'
国外版本
pod 'QY_iOS_SDK/Abroad', '~> x.x.x'
视频客服版本
pod 'QY_iOS_SDK/Video', '~> x.x.x'
​
2、"x.x.x" 代表版本号，例如需要集成 10.6.x 系列的最新版本，可加入如下代码：
国内版本 
pod 'QY_iOS_SDK','10.6.x'
海外版
pod 'QY_iOS_SDK/Abroad','10.6.x'
视频客服版
pod 'QY_iOS_SDK/Video','10.6.x'
​
Terminal cd到podfile所在路径下，然后执行 pod install 即可完整集成动态库版本。
####视频客服集成
视频客服模块是基于QYSDK和QYKFNIMSDK的。要使用视频客服，必须要先集成这两个QYKFNIMSDK.xcframework和QYSDK.xcframework，这两个SDK的集成方法此处不再赘述，请参考上文。
####手动集成
下载 zip 文件并解压，内含QYVideoService.xcframework，Resources文件夹中包含QYVideoResource.bundle资源包。
​
集成 QYVideoService.xcframework ：将 QYVideoService.xcframework 文件夹拖入工程，确保文件 copy 至工程而非引用，并确保 General —> Frameworks, Libraries, and Embedded Content ( >=Xcode11 ) 选项中包含导入的库，同时 Embed 选择 Embed & Sign 即可。
集成 QYSDK.framework ：将 Resources 文件夹中所需的 QYVideoResource.bundle 资源文件拖入主工程，确保 mainBundle 可以访问到。
####自动集成
​
将 Podfile 文件中的pod 'QY_iOS_SDK', '~> x.x.x'修改为：
pod 'QY_iOS_SDK/Video', '~> x.x.x'
"x.x.x" 代表版本号
Terminal cd 到 podfile所在路径下，然后执行 pod install 即可完整集成动态库版本。
####自动集成常见问题
使用 CocoaPods 过程中可能遇见的问题：
1、无法用 CocoaPods 下载到最新的 SDK
2、运行 pod repo update 更新本地 CocoaPods 仓库；
3、检查网络环境，确保可以访问并下载 GitHub 相关内容。
4、使用 CocoaPods 下载静态库版本 SDK 后编译报错
可使用 Homebrew 安装 Git LFS：
brew install git-lfs

启动 Git LFS 服务：
git lfs install
安装后请重新 pod update，若仍报错，尝试清理缓存：pod cache clean --all 。
####权限设置
在 Info.plist 中加入以下内容：
<key>NSPhotoLibraryUsageDescription</key>
<string>需要读取相册权限</string>
<key>NSCameraUsageDescription</key>
<string>需要相机权限</string>
<key>NSMicrophoneUsageDescription</key>
<string>需要麦克风权限</string>
<key>NSPhotoLibraryAddUsageDescription</key>
<string>需要写入相册权限</string>
如果不加，会引发 crash。请注意，iOS11 新增写入相册数据权限 NSPhotoLibraryAddUsageDescription。
####https相关
V3.1.3 版本开始，SDK 已全面支持 https，但是聊天消息中可能存在链接，点击链接会用 WKWebView 打开，链接地址有可能是 http 的，为了能够正常打开，需要增加配置项。在 Info.plist 中加入以下内容：
<keyNSAppTransportSecurity</key<dict<keyNSAllowsArbitraryLoads</key<true/<keyNSAllowsArbitraryLoadsInWebContent</key<true/</dict
加了这些配置项，在 iOS9 下，系统仅读取 NSAllowsArbitraryLoads，会放开所有 http 请求；在 iOS10 及以上系统，设置了 NSAllowsArbitraryLoadsInWebContent，就会忽略 NSAllowsArbitraryLoads，效果是只允许 WKWebView 中使用 http。SDK 消息流链接默认使用 WKWebView 打开，可通过截获链接点击事件使用自定义网页视图。

